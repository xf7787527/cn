# 产品功能操作说明

## 组件相关

###  新建组件

#### 安卓新建组件

 左侧菜单栏选中“我的组件”，点击右上角“新建组件”。在新建组件弹窗，填写组件相关信息。点击确认后，该请求将会同步给系统负责人，如下图，只需要等待审核通过，组件即可在我的组件列表中显示！

#### iOS新建组件

左侧菜单栏选中“我的组件”，点击右上角“新建组件”。在新建组件弹窗，填写组件相关信息

新建组件弹窗，并填写字段解释。点击确认后，该请求将会同步给系统负责人，只需要等待审核通过，组件即可在我的组件列表中显示！

### 创建组件编译配置

#### 安卓组件编译配置

在“我的组件”列表，找到相应组件点击进入“编译配置”，创建组件发布配置（构建、发布编译配置）。

点击“创建组件编译配置”，填写完成后点击确认，就可用于后续组件的构建了。

#### iOS组件编译配置

在“我的组件”列表，找到相应组件点击进入“编译配置”，创建组件发布配置（构建、发布编译配置）。

点击“创建组件编译配置”，填写完成后点击确认，就可用于后续组件的构建了。 

## 应用相关

### 新建应用

#### 应用录入平台

##### Android应用录入

在组件化研发平台做如下操作：

左侧菜单栏选中“我的应用”，点击右上角“新建应用”。填写应用基础信息。

点击确认后，该请求将会同步给系统负责人。只需要等待审核通过，应用即可在我的应用列表中显示！

##### iOS应用录入

左侧菜单栏选中“我的应用”，点击右上角“新建应用”。 “所属平台”选择“iOS”，填写iOS应用基础信息。点击确认后，该请求将会同步给系统负责人。只需要等待审核通过，应用即可在我的应用列表中显示。

#### 模板创建应用

左侧菜单栏选中“我的应用”，点击右上角“新建应用”。新建页面选择“平台模板创建”，填写新应用基础信息。

提示：Android、iOS需填写字段略有不同，与录入过程填写内容基本一致。

点击下一步，配置编译模板，填写好编译信息后点击“完成”。待管理员审核通过后，就可以在“我的应用”列表里查看此应用了。

### 创建App编译配置

#### 创建Android App编译配置

App新建审核通过后，在相应应用处点击进入“编译配置”，创建应用发布配置。

点击右上角“创建App编译配置”，填写编译配置信息，确认后就可以用于后续App的构建了。

#### 创建iOS App编译配置

 应用新建审核通过后，在相应应用处点击进入“编译配置”。

点击右上角“创建App编译配置”，填写编译配置信息，确认后就可以用于后续App的构建了。

### 应用版本发布

#### 新建版本

点击左侧菜单“我的应用”，在右侧的列表中点击“版本管理”按钮，在进入到的页面中，点击“创建APP版本”，并填写相应的信息。

创建完成，平台会从所选的clone分支新拉git分支作为新版本分支。

进入版本详情进行组件拖拽式集成，或到相应分支下进行开发。

提示：快捷入口，左侧菜单栏选中“发版任务”，找到对应版本任务，点击“查看详情”，进入到集成单页面。

#### 新建测试集成单

从左侧菜单栏“应用发版任务”-> “查看详情”，或者从“我的应用”->“版本管理”->“版本详情”进入到App的版本任务，即集成单管理页。填写集成单相关信息。

进入“集成单详情”，添加组件或更改组件版本。 选择所需组件批量加入到集成单内，选择组件版本，开发中的版本需要选择小版本号（构建时间），选择编译类型，点击确认。集成单内组件更改完成后，点击构建（可重复改动、重复构建）

提示：构建过程中可查看构建进度，随时取消构建

构建完成后，可点击构建记录查看构建结果。支持查看日志，扫码下载构建包。集成单修改完成后，回到集成单列表页，将对应集成单申请测试，等待测试结果。

测试通过后即可到回到集成单管理页将集成单申请集成，或进入集成单详情，将组件批量申请集成。之后等待后续集成结果通知就可以了。 

#### 集成单测试

左侧菜单栏选中“发版任务”，找到需要测试的任务，点击“查看详情”进入。

点击进入“测试区”就可以开始测试了！

#### 组件集成到发布集成单

申请集成，直接将集成单申请集成。或进入到集成单详情，批量选择组件申请集成。待部分集成单或组件申请集成后，点击进入“待集成区”，找到自己负责的组件，查看冲突详情。

冲突说明：在应用发版场景内，组件在批量申请集成时，不同集成单作为发起者，使用了同一个组件的不同版本，会产生的组件版本冲突。组件负责人可联系这些集成单负责人，一起决定最终集成组件的哪个版本。

选择好集成版本并确认后，页面跳转回“待集成区”，点击“确认集成”，此组件将会显示在“应用发布区”，发布负责人会做后续操作。

取消集成

操作: 确认集成后可随时更改或取消集成

#### 应用发布

完成上续操作后，点击进入“应用发布区”，等待所有组件集成。

发布区有驳回组件功能，将组件驳回后，通知组件负责人，等待组件再次申请集成。在该组件重新申请集成前可选择【取消驳回】。

到达封板时间，可选择“停止集成”，此时所有组件都不能再集成进发布区，“停止集成”按钮选择后会自动变为“开启集成”，可应对特殊情况。

当所有组件都已确认集成后，就可以开始构建啦。

在构建记录里下载构建包进行回归测试，此处可对构建包进行后续操作。

点击发布，系统会提示是否保留git分支，如不选择，平台将会做自动清除。

发布完成后，回到”我的应用“，此应用的版本管理页，找到刚刚发布的”已上线“版本，点击进入”版本详情“，就可以看到发布后的详细内容了（组件内容、构建记录、基础信息等）。

## 快速集成

左侧菜单栏选中“快速集成”，点击“新建集成单”。在打开的页面中添加相关信息。

进入集成单详情后，添加组件或更改组件版本。

添加组件：将组件批量加入集成单内，选择组件版本，开发中的版本需要选择小版本号（构建时间），选择编译类型，点击确认。

集成单内组件更改完成后，点击构建（可重复改动、重复构建），选择编译模板，点击确认。构建过程中可查看构建进度，随时取消构建。

构建完成后，点击构建记录查看构建结果。进入构建记录列表页，就可以查看或下载编译产物了。