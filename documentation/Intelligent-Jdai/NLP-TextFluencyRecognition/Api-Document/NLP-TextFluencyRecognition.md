# 文本流畅度识别

## 一、接口描述

### 1. 功能描述

获取句子的困惑度（是否流畅），并定位不流畅的词汇。

### 2. 接口使用

进入京东智联云控制台-账号管理-Access Key管理，创建并获取Access Key。整体流程详见 [调用方法](https://docs.jdcloud.com/cn/common-declaration/api/call-methods) 。

## 二、请求说明

### 1. 接口地址 ：

```
https://aiapi.jdcloud.com/jdai/language_smooth
```

### 2. 请求方式：

```
 GET
```

### 3. 请求参数

#### （1）query请求参数

公共请求参数

| 名称      | 类型   | 必填 | 示例值                           | 描述                                           |
| --------- | ------ | ---- | -------------------------------- | ---------------------------------------------- |
| appkey    | string | 是   | 80d2b762ecb86593f9668526920f46c  | 您的appkey，可在买家中心控制台中获             |
| timestamp | long   | 是   | 1541491668060                    | 请求的时间戳，精确到毫秒，timestamp有效期5分钟 |
| sign      | string | 是   | 2e148773a0337a8f2200ba90d445f083 | 签名，根据规则MD5(sectetkey+timestamp)         |

#### （2）header请求参数

业务请求参数

| 名称         | 类型   | 必填 | 示例值           | 描述                       |
| ------------ | ------ | ---- | ---------------- | -------------------------- |
| Content-Type | string | 是   | application/json | 表示请求JSON格式的文本信息 |

#### （3）业务请求参数

业务请求参数

| 名称     | 类型   | 必填 | 示例值                                   | 描述           |
| -------- | ------ | ---- | ---------------------------------------- | -------------- |
| sentence | string | 是   | 这是一款无袖连衣裙，蝴蝶结装饰甜美大方。 | 需要分析的句子 |

### 3、请求代码示例

```
https://aiapi.jd.com/jdai/language_smooth?sentence=这是一款无袖连衣裙，蝴蝶结装饰甜美大方。
```

## 三、返回说明

### 1、返回参数

#### （1）公共返回参数

| 名称          | 类型    | 示例值        | 描述                                                         |
| ------------- | ------- | ------------- | ------------------------------------------------------------ |
| code          | string  | 1000          | 参见下方错误码-系统级错误码                                  |
| charge        | boolean | false 或 true | false：不扣费， true：扣费                                   |
| remain        | long    | 1305          | 剩余调用次数；免费api：每天剩余调用次数；收费api：剩余次数；无限制时为-1 |
| remainTimes   | long    | 1305          | 剩余调用次数；免费api：每天剩余调用次数；收费api：剩余次数；无限制时为-1 |
| remainSeconds | long    | 1223456       | 剩余调用时间（s）；免费api：-1；收费api：剩余调用时间；无限制时为-1 |
| msg           | string  | 查询成功      | 参见下方错误码-系统级错误码数                                |
| result        | object  | {...}         | 查询结果                                                     |

#### （2）业务返回参数

| 名称 | 类型   | 示例值 | 描述                        |
| ---- | ------ | ------ | --------------------------- |
| code | string | 1000   | 参见下方错误码-系统级错误码 |
| msg  | string | 否     |                             |
| data | object | {}     | 输出内容                    |

data参数信息

| 名称  | 类型   | 示例值                                                       | 描述                     |
| ----- | ------ | ------------------------------------------------------------ | ------------------------ |
| ppl   | double | 90.91949462890625                                            | 流畅度打分               |
| items | array  | [{ "word": "这", "prob": 0.000046 }, { "word": "是", "prob": 0.000371 }, { "word": "一", "prob": 0.021668 }, { "word": "款", "prob": 0.011721 }, { "word": "无", "prob": 0.011929 }, { "word": "袖", "prob": 0.001146 }, { "word": "连", "prob": 0.012524 }, { "word": "衣", "prob": 0.191675 }, { "word": "裙", "prob": 0.616922 }, { "word": "，", "prob": 0.006174 }, { "word": "蝴", "prob": 0.000004 }, { "word": "蝶", "prob": 0.984052 }, { "word": "结", "prob": 0.210745 }, { "word": "装", "prob": 0.016445 }, { "word": "饰", "prob": 0.117097 }, { "word": "甜", "prob": 0.004208 }, { "word": "美", "prob": 0.523187 }, { "word": "大", "prob": 0.001476 }, { "word": "方", "prob": 0.021803 }] | 句子中的单个文字打分情况 |

items参数信息

| 名称 | 类型   | 示例值   | 描述               |
| ---- | ------ | -------- | ------------------ |
| word | string | 方       | 短文中的一个字符   |
| prob | double | 0.021803 | 单个文字的打分情况 |

### 2、返回示例

```
{
  "code": 200,
  "data": {
    "ppl": 90.91949462890625,
    "items": [
      {
        "word": "这",
        "prob": 0.000046
      },
      {
        "word": "是",
        "prob": 0.000371
      },
      {
        "word": "一",
        "prob": 0.021668
      },
      {
        "word": "款",
        "prob": 0.011721
      },
      {
        "word": "无",
        "prob": 0.011929
      },
      {
        "word": "袖",
        "prob": 0.001146
      },
      {
        "word": "连",
        "prob": 0.012524
      },
      {
        "word": "衣",
        "prob": 0.191675
      },
      {
        "word": "裙",
        "prob": 0.616922
      },
      {
        "word": "，",
        "prob": 0.006174
      },
      {
        "word": "蝴",
        "prob": 0.000004
      },
      {
        "word": "蝶",
        "prob": 0.984052
      },
      {
        "word": "结",
        "prob": 0.210745
      },
      {
        "word": "装",
        "prob": 0.016445
      },
      {
        "word": "饰",
        "prob": 0.117097
      },
      {
        "word": "甜",
        "prob": 0.004208
      },
      {
        "word": "美",
        "prob": 0.523187
      },
      {
        "word": "大",
        "prob": 0.001476
      },
      {
        "word": "方",
        "prob": 0.021803
      }
    ]
  },
  "msg": ""
}
```

## 四、错误码

### 1.系统级错误码

[详见返回码](https://aidoc.jd.com/user/returncode.html)

### 2. 业务错误码

| 返回码（code） | message | 说明（message）  |
| -------------- | ------- | ---------------- |
| 500            |         | 模型解析数据失败 |